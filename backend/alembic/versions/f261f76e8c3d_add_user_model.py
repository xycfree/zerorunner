"""Add user model

Revision ID: f261f76e8c3d
Revises: 
Create Date: 2024-01-17 18:22:18.230685

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import mysql

# revision identifiers, used by Alembic.
revision = 'f261f76e8c3d'
down_revision = None
branch_labels = None
depends_on = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('server_ver',
    sa.Column('ip', sa.String(length=32), nullable=False, comment='服务器IP'),
    sa.Column('name', sa.String(length=64), nullable=False, comment='项目名称'),
    sa.Column('system_type', sa.Integer(), nullable=True, comment='服务器操作系统, 0:未知 1:linux[centos, redhat] 2:ubuntu 3:mac 4:windows'),
    sa.Column('server_source', sa.String(length=32), nullable=True, comment='服务器来源, hulk, ops'),
    sa.Column('cpu', sa.Integer(), nullable=True, comment='CPU数量'),
    sa.Column('mem', sa.Integer(), nullable=True, comment='内存/G'),
    sa.Column('disk_total', sa.Float(), nullable=True, comment='磁盘空间/G'),
    sa.Column('disk_use', sa.Float(), nullable=True, comment='磁盘使用量/G'),
    sa.Column('is_install', sa.Integer(), nullable=True, comment='是否安装epp, 0:未知  1:未安装 2:已安装'),
    sa.Column('is_run', sa.Integer(), nullable=True, comment='是否运行epp，0:未知 1:未运行 2:运行'),
    sa.Column('is_multi', sa.Integer(), nullable=True, comment='是否存在上下级关系 0:未知 1:仅本级 2:有且上级 4:有且下级'),
    sa.Column('epp_version', sa.String(length=32), nullable=True, comment='epp版本'),
    sa.Column('server_type', sa.String(length=32), nullable=True, comment='服务器性质, 开发/测试'),
    sa.Column('server_users', sa.String(length=1024), nullable=True, comment='服务器用户权限'),
    sa.Column('remark', sa.String(length=1024), nullable=True, comment='备注'),
    sa.Column('id', sa.BigInteger(), autoincrement=True, nullable=False, comment='主键'),
    sa.Column('creation_date', sa.DateTime(), nullable=True, comment='创建时间'),
    sa.Column('created_by', sa.BigInteger(), nullable=True, comment='创建人ID'),
    sa.Column('updation_date', sa.DateTime(), nullable=True, comment='更新时间'),
    sa.Column('updated_by', sa.BigInteger(), nullable=True, comment='更新人ID'),
    sa.Column('enabled_flag', sa.Boolean(), nullable=False, comment='是否删除, 0 删除 1 非删除'),
    sa.Column('trace_id', sa.String(length=255), nullable=True, comment='trace_id'),
    sa.PrimaryKeyConstraint('id'),
    mysql_charset='utf8'
    )
    op.create_index(op.f('ix_server_ver_ip'), 'server_ver', ['ip'], unique=True)
    op.drop_table('api_test_report_detail_0')
    op.drop_table('ui_report_detail_0')
    op.drop_table('env_config')
    op.drop_table('celery_solar_schedule')
    op.alter_column('api_case', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               comment='名称')
    op.alter_column('api_case', 'project_id',
               existing_type=mysql.BIGINT(display_width=22),
               nullable=False,
               comment='所属项目')
    op.alter_column('api_case', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='备注',
               existing_nullable=True)
    op.alter_column('api_case', 'headers',
               existing_type=mysql.JSON(),
               comment='场景请求头',
               existing_comment='请求头',
               existing_nullable=True)
    op.alter_column('api_case', 'variables',
               existing_type=mysql.JSON(),
               comment='场景变量',
               existing_comment='变量',
               existing_nullable=True)
    op.alter_column('api_case', 'step_data',
               existing_type=mysql.JSON(),
               comment='场景步骤',
               existing_comment='步骤',
               existing_nullable=True)
    op.alter_column('api_case', 'version',
               existing_type=mysql.INTEGER(display_width=11),
               comment='版本',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('api_case', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('api_case', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_comment='创建人',
               existing_nullable=True)
    op.alter_column('api_case', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_comment='更新人',
               existing_nullable=True)
    op.alter_column('api_case', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除')
    op.alter_column('api_case', 'trace_id',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='trace_id',
               existing_nullable=True)
    op.drop_index('enabled_flag_index', table_name='api_case')
    op.drop_index('id_index', table_name='api_case')
    op.drop_index('name_index', table_name='api_case')
    op.create_index(op.f('ix_api_case_name'), 'api_case', ['name'], unique=False)
    op.alter_column('api_case_step', 'case_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='用例id')
    op.alter_column('api_case_step', 'source_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='源id')
    op.alter_column('api_case_step', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               comment='用例名称',
               existing_comment='用例/配置名称')
    op.alter_column('api_case_step', 'project_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               existing_comment='所属项目')
    op.alter_column('api_case_step', 'module_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               existing_comment='所属模块')
    op.alter_column('api_case_step', 'url',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               existing_comment='请求地址')
    op.alter_column('api_case_step', 'method',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='请求方式',
               existing_comment='请求方法',
               existing_nullable=True)
    op.alter_column('api_case_step', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='描述',
               existing_nullable=True)
    op.alter_column('api_case_step', 'step_type',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='描述',
               existing_nullable=True)
    op.alter_column('api_case_step', 'pre_steps',
               existing_type=mysql.JSON(),
               comment='前置步骤',
               existing_nullable=True)
    op.alter_column('api_case_step', 'post_steps',
               existing_type=mysql.JSON(),
               comment='后置步骤',
               existing_nullable=True)
    op.alter_column('api_case_step', 'setup_code',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment='前置code',
               existing_nullable=True)
    op.alter_column('api_case_step', 'teardown_code',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment='后置code',
               existing_nullable=True)
    op.alter_column('api_case_step', 'headers',
               existing_type=mysql.JSON(),
               comment='请求头',
               existing_nullable=True)
    op.alter_column('api_case_step', 'extracts',
               existing_type=mysql.JSON(),
               comment='提取',
               existing_nullable=True)
    op.alter_column('api_case_step', 'export',
               existing_type=mysql.JSON(),
               comment='输出',
               existing_nullable=True)
    op.alter_column('api_case_step', 'step_id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='步骤id',
               existing_nullable=True)
    op.alter_column('api_case_step', 'parent_step_id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='父步骤id',
               existing_nullable=True)
    op.alter_column('api_case_step', 'index',
               existing_type=mysql.INTEGER(display_width=11),
               comment='步骤顺序',
               existing_nullable=True)
    op.alter_column('api_case_step', 'node_id',
               existing_type=mysql.VARCHAR(charset='utf8mb4', length=255),
               comment='节点id',
               existing_nullable=True)
    op.alter_column('api_case_step', 'enable',
               existing_type=mysql.INTEGER(display_width=11),
               comment='是否启用 0 否 1 是',
               existing_nullable=True,
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_case_step', 'is_quotation',
               existing_type=mysql.INTEGER(display_width=2),
               comment='是否引用 0 否 1 是',
               existing_nullable=True,
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_case_step', 'version',
               existing_type=mysql.INTEGER(display_width=11),
               comment='版本号',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('api_case_step', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('api_case_step', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('api_case_step', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('api_case_step', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('api_case_step', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('api_case_step', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_case_step', 'trace_id',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='trace_id',
               existing_nullable=True)
    op.drop_index('enabled_flag_index', table_name='api_case_step')
    op.drop_index('id_index', table_name='api_case_step')
    op.drop_index('name_index', table_name='api_case_step')
    op.create_index(op.f('ix_api_case_step_name'), 'api_case_step', ['name'], unique=False)
    op.alter_column('api_info', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               comment='用例名称',
               existing_comment='用例/配置名称')
    op.alter_column('api_info', 'project_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               existing_comment='所属项目')
    op.alter_column('api_info', 'module_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               existing_comment='所属模块')
    op.alter_column('api_info', 'url',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               existing_comment='请求地址')
    op.alter_column('api_info', 'method',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='请求方式',
               existing_comment='请求方法',
               existing_nullable=True)
    op.alter_column('api_info', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='描述',
               existing_nullable=True)
    op.alter_column('api_info', 'step_type',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='描述',
               existing_nullable=True)
    op.alter_column('api_info', 'pre_steps',
               existing_type=mysql.JSON(),
               comment='前置步骤',
               existing_nullable=True)
    op.alter_column('api_info', 'post_steps',
               existing_type=mysql.JSON(),
               comment='后置步骤',
               existing_nullable=True)
    op.alter_column('api_info', 'setup_code',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment='前置code',
               existing_nullable=True)
    op.alter_column('api_info', 'teardown_code',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment='后置code',
               existing_nullable=True)
    op.alter_column('api_info', 'headers',
               existing_type=mysql.JSON(),
               comment='请求头',
               existing_nullable=True)
    op.alter_column('api_info', 'extracts',
               existing_type=mysql.JSON(),
               comment='提取',
               existing_nullable=True)
    op.alter_column('api_info', 'export',
               existing_type=mysql.JSON(),
               comment='输出',
               existing_nullable=True)
    op.alter_column('api_info', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('api_info', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('api_info', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('api_info', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('api_info', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('api_info', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_info', 'trace_id',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='trace_id',
               existing_nullable=True)
    op.drop_index('enabled_flag_index', table_name='api_info')
    op.drop_index('id_index', table_name='api_info')
    op.drop_index('name_index', table_name='api_info')
    op.create_index(op.f('ix_api_info_name'), 'api_info', ['name'], unique=False)
    op.drop_column('api_info', 'enable')
    op.alter_column('api_test_report', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='报告名称')
    op.alter_column('api_test_report', 'run_mode',
               existing_type=mysql.VARCHAR(length=255),
               comment='运行模式， api 接口， case 用例',
               existing_comment='运行模式， case 用例， suites 套件',
               existing_nullable=True)
    op.alter_column('api_test_report', 'run_fail_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行失败数',
               existing_nullable=True)
    op.alter_column('api_test_report', 'run_skip_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行跳过数',
               existing_comment='跳过',
               existing_nullable=True)
    op.alter_column('api_test_report', 'run_err_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行错误数',
               existing_nullable=True)
    op.alter_column('api_test_report', 'env_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行环境',
               existing_nullable=True)
    op.alter_column('api_test_report', 'exec_user_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='执行人id',
               existing_nullable=True)
    op.alter_column('api_test_report', 'exec_user_name',
               existing_type=mysql.VARCHAR(length=255),
               comment='执行人昵称',
               existing_nullable=True)
    op.alter_column('api_test_report', 'error_msg',
               existing_type=mysql.TEXT(),
               comment='错误信息',
               existing_nullable=True)
    op.alter_column('api_test_report', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('api_test_report', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('api_test_report', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('api_test_report', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('api_test_report', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('api_test_report', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.create_index(op.f('ix_api_test_report_name'), 'api_test_report', ['name'], unique=False)
    op.alter_column('celery_crontab_schedule', 'minute',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=240),
               comment='分钟',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'hour',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=96),
               comment='小时',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'day_of_week',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='日期',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'day_of_month',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=124),
               comment='月份',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'month_of_year',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='年',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'timezone',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='时区',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除')
    op.alter_column('celery_interval_schedule', 'every',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment='区间数')
    op.alter_column('celery_interval_schedule', 'period',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=24),
               comment='间隔单位',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除')
    op.alter_column('celery_periodic_task', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               comment='定时任务名')
    op.alter_column('celery_periodic_task', 'task',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='任务路径',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'args',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment='参数',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'kwargs',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment='关键字参数',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'queue',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='队列',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'exchange',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='交换',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'routing_key',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='路由密钥',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'expires',
               existing_type=mysql.DATETIME(),
               comment='到期时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'one_off',
               existing_type=mysql.TINYINT(display_width=1),
               comment='执行一次',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'start_time',
               existing_type=mysql.DATETIME(),
               comment='开始时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'enabled',
               existing_type=mysql.TINYINT(display_width=1),
               comment='是否启用, 1启动，0停用',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'last_run_at',
               existing_type=mysql.DATETIME(),
               comment='上次运行时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'total_run_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行总次数',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'date_changed',
               existing_type=mysql.DATETIME(),
               comment='更改日期',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'description',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment='备注',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'crontab_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='定时器id',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'crontab',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='crontab 表达式',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'interval_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='间隔id',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'interval_every',
               existing_type=mysql.INTEGER(display_width=11),
               comment='间隔时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'interval_period',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='间隔类型',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'task_type',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               existing_comment='crontab interval')
    op.alter_column('celery_periodic_task', 'project_id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='项目id',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'module_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='模块id')
    op.alter_column('celery_periodic_task', 'suite_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='套件id')
    op.alter_column('celery_periodic_task', 'case_env_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='case_env_id 用例环境')
    op.alter_column('celery_periodic_task', 'case_ids',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=500),
               nullable=False,
               comment='用例集合')
    op.alter_column('celery_periodic_task', 'ui_env_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='case_env_id 用例环境')
    op.alter_column('celery_periodic_task', 'ui_ids',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=500),
               nullable=False,
               comment='ui用例集合')
    op.alter_column('celery_periodic_task', 'script_ids',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=500),
               nullable=False,
               comment='脚本id')
    op.alter_column('celery_periodic_task', 'task_tags',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               comment='任务标签')
    op.alter_column('celery_periodic_task', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               comment='任务描述')
    op.alter_column('celery_periodic_task', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('celery_periodic_task', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除')
    op.drop_index('name', table_name='celery_periodic_task')
    op.drop_column('celery_periodic_task', 'priority')
    op.drop_column('celery_periodic_task', 'run_type')
    op.drop_column('celery_periodic_task', 'solar_id')
    op.drop_column('celery_periodic_task', 'run_mode')
    op.alter_column('celery_periodic_task_changed', 'last_update',
               existing_type=mysql.DATETIME(),
               nullable=True,
               comment='到期时间')
    op.alter_column('celery_periodic_task_changed', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task_changed', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_periodic_task_changed', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task_changed', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_periodic_task_changed', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除')
    op.alter_column('celery_task_record', 'task_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment='任务id')
    op.alter_column('celery_task_record', 'task_name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment='任务名称')
    op.alter_column('celery_task_record', 'task_type',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='任务类型 10普通任务 20定时任务')
    op.alter_column('celery_task_record', 'status',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment='任务状态')
    op.alter_column('celery_task_record', 'result',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment='任务结果')
    op.alter_column('celery_task_record', 'start_time',
               existing_type=mysql.DATETIME(),
               nullable=False,
               comment='开始时间')
    op.alter_column('celery_task_record', 'end_time',
               existing_type=mysql.DATETIME(),
               nullable=False,
               comment='结束时间')
    op.alter_column('celery_task_record', 'duration',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment='耗时')
    op.alter_column('celery_task_record', 'traceback',
               existing_type=mysql.TEXT(),
               nullable=False,
               comment='异常信息')
    op.alter_column('celery_task_record', 'business_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='业务id')
    op.alter_column('celery_task_record', 'args',
               existing_type=mysql.TEXT(),
               nullable=False,
               comment='业务参数')
    op.alter_column('celery_task_record', 'kwargs',
               existing_type=mysql.TEXT(),
               nullable=False,
               comment='业务参数')
    op.alter_column('celery_task_record', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('celery_task_record', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment='trace_id',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment='仓库名称')
    op.alter_column('coverage_backend_report', 'report_type',
               existing_type=mysql.INTEGER(display_width=11),
               comment='10 full 全量， 20 diff 增量',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'new_branches',
               existing_type=mysql.VARCHAR(length=255),
               comment='新分支或者md5',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'new_last_commit_id',
               existing_type=mysql.VARCHAR(length=255),
               comment='新分支最后提交id',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'old_branches',
               existing_type=mysql.VARCHAR(length=255),
               comment='比对分支或者md5',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'old_last_commit_id',
               existing_type=mysql.VARCHAR(length=255),
               comment='旧分支最后提交id',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'package_count',
               existing_type=mysql.VARCHAR(length=255),
               comment='包数量',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'class_count',
               existing_type=mysql.VARCHAR(length=255),
               comment='类数据',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'method_count',
               existing_type=mysql.VARCHAR(length=255),
               comment='方法数据',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'coverage_rate',
               existing_type=mysql.VARCHAR(length=200),
               comment='覆盖率',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('coverage_backend_report', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('coverage_backend_report', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment='trace_id',
               existing_nullable=True)
    op.create_index(op.f('ix_coverage_backend_report_name'), 'coverage_backend_report', ['name'], unique=False)
    op.alter_column('coverage_class_detail', 'report_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='报告id')
    op.alter_column('coverage_class_detail', 'package_name',
               existing_type=mysql.VARCHAR(length=255),
               comment='包名',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'class_name',
               existing_type=mysql.VARCHAR(length=255),
               comment='类名',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'class_file_content',
               existing_type=mysql.LONGTEXT(),
               comment='class文件内容',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'class_source_path',
               existing_type=mysql.VARCHAR(length=255),
               comment='class 源码路径',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'class_md5',
               existing_type=mysql.VARCHAR(length=255),
               comment='class文件md5',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'class_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment='未覆盖类',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_class_detail', 'class_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment='覆盖类',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_class_detail', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('coverage_class_detail', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('coverage_class_detail', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment='trace_id',
               existing_nullable=True)
    op.drop_column('coverage_class_detail', 'branch_covered')
    op.drop_column('coverage_class_detail', 'complexity_covered')
    op.drop_column('coverage_class_detail', 'complexity_missed')
    op.drop_column('coverage_class_detail', 'method_covered')
    op.drop_column('coverage_class_detail', 'method_missed')
    op.drop_column('coverage_class_detail', 'line_covered')
    op.drop_column('coverage_class_detail', 'instruction_missed')
    op.drop_column('coverage_class_detail', 'instruction_covered')
    op.drop_column('coverage_class_detail', 'line_missed')
    op.drop_column('coverage_class_detail', 'branch_missed')
    op.alter_column('coverage_method_detail', 'report_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='报告id')
    op.alter_column('coverage_method_detail', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment='包名')
    op.alter_column('coverage_method_detail', 'method_md5',
               existing_type=mysql.VARCHAR(length=255),
               comment='类名',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'class_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='类id',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'params_string',
               existing_type=mysql.TEXT(),
               comment='参数',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'offset',
               existing_type=mysql.INTEGER(display_width=11),
               comment='偏移量',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'lines_covered_status',
               existing_type=mysql.TEXT(),
               comment='行覆盖状态',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'branch_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment='未覆盖分支',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'branch_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment='覆盖分支',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'instruction_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment='未覆盖指令',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'instruction_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment='覆盖指令',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'line_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment='未覆盖行',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'line_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment='覆盖行',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'complexity_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment='未覆盖复杂度',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'complexity_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment='覆盖复杂度',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'method_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment='未覆盖方法',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'method_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment='覆盖方法',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('coverage_method_detail', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('coverage_method_detail', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment='trace_id',
               existing_nullable=True)
    op.alter_column('data_source', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               existing_comment='数据源名称')
    op.alter_column('data_source', 'host',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='ip',
               existing_comment='主机名',
               existing_nullable=True)
    op.alter_column('data_source', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('data_source', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('data_source', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('data_source', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除',
               existing_server_default=sa.text("'1'"))
    op.create_index(op.f('ix_data_source_name'), 'data_source', ['name'], unique=False)
    op.create_index(op.f('ix_data_source_type'), 'data_source', ['type'], unique=False)
    op.drop_column('data_source', 'env_id')
    op.alter_column('env', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='环境名称',
               existing_nullable=False)
    op.alter_column('env', 'domain_name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='url地址',
               existing_comment='环境域名',
               existing_nullable=True)
    op.alter_column('env', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='说明',
               existing_nullable=True)
    op.alter_column('env', 'data_sources',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='数据源',
               existing_nullable=True)
    op.alter_column('env', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('env', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('env', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('env', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('env', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('env', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               comment='是否删除, 0 删除 1 非删除',
               existing_nullable=False,
               existing_server_default=sa.text("'1'"))
    op.create_index(op.f('ix_env_name'), 'env', ['name'], unique=False)
    op.alter_column('env_data_source', 'env_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='环境id')
    op.alter_column('env_data_source', 'data_source_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='数据源id')
    op.alter_column('env_data_source', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('env_data_source', 'created_by',
               existing_type=mysql.VARCHAR(charset='utf8', length=64),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('env_data_source', 'updated_by',
               existing_type=mysql.VARCHAR(charset='utf8', length=64),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('env_data_source', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除')
    op.drop_index('index_data_source_id', table_name='env_data_source')
    op.drop_index('index_env_id', table_name='env_data_source')
    op.drop_index('index_id', table_name='env_data_source')
    op.create_index(op.f('ix_env_data_source_data_source_id'), 'env_data_source', ['data_source_id'], unique=False)
    op.create_index(op.f('ix_env_data_source_env_id'), 'env_data_source', ['env_id'], unique=False)
    op.alter_column('env_func', 'env_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='环境id')
    op.alter_column('env_func', 'func_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='辅助函数id')
    op.alter_column('env_func', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('env_func', 'created_by',
               existing_type=mysql.VARCHAR(charset='utf8', length=64),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('env_func', 'updated_by',
               existing_type=mysql.VARCHAR(charset='utf8', length=64),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('env_func', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除')
    op.drop_index('index_data_source_id', table_name='env_func')
    op.drop_index('index_env_id', table_name='env_func')
    op.drop_index('index_id', table_name='env_func')
    op.create_index(op.f('ix_env_func_env_id'), 'env_func', ['env_id'], unique=False)
    op.create_index(op.f('ix_env_func_func_id'), 'env_func', ['func_id'], unique=False)
    op.alter_column('file_info', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=True,
               existing_comment='更新时间')
    op.alter_column('file_info', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='trace_id')
    op.alter_column('functions', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=False,
               comment='name')
    op.alter_column('functions', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='备注',
               existing_nullable=True)
    op.alter_column('functions', 'project_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='关联项目',
               existing_nullable=True)
    op.alter_column('functions', 'content',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment='自定义函数内容',
               existing_nullable=True)
    op.alter_column('functions', 'func_type',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='函数类型',
               existing_nullable=True)
    op.alter_column('functions', 'func_tags',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='函数标签',
               existing_nullable=True)
    op.alter_column('functions', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('functions', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('functions', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('functions', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('functions', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('functions', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('lookup', 'code',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='编码',
               existing_comment='数据字典编码',
               existing_nullable=False)
    op.alter_column('lookup', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('lookup', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('lookup', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('lookup', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('lookup', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('lookup', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               comment='是否删除, 0 删除 1 非删除',
               existing_nullable=False,
               existing_server_default=sa.text("'1'"))
    op.create_index(op.f('ix_lookup_code'), 'lookup', ['code'], unique=False)
    op.alter_column('lookup_value', 'lookup_code',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=32),
               nullable=True,
               existing_comment='编码')
    op.alter_column('lookup_value', 'created_by',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='创建人ID',
               existing_comment='创建人',
               existing_nullable=True)
    op.alter_column('lookup_value', 'updation_date',
               existing_type=mysql.TIMESTAMP(),
               comment='更新时间',
               existing_comment='最后更新时间',
               existing_nullable=True,
               existing_server_default=sa.text('CURRENT_TIMESTAMP'))
    op.alter_column('lookup_value', 'updated_by',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='更新人ID',
               existing_comment='最后更新人',
               existing_nullable=True)
    op.alter_column('lookup_value', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否有效',
               existing_nullable=False,
               existing_server_default=sa.text("'1'"))
    op.drop_index('idx_lookup_code', table_name='lookup_value')
    op.drop_index('idx_lookup_enable', table_name='lookup_value')
    op.drop_index('idx_lookup_id', table_name='lookup_value')
    op.create_index(op.f('ix_lookup_value_lookup_code'), 'lookup_value', ['lookup_code'], unique=False)
    op.create_index(op.f('ix_lookup_value_lookup_id'), 'lookup_value', ['lookup_id'], unique=False)
    op.alter_column('menu', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='菜单名称')
    op.alter_column('menu', 'linkUrl',
               existing_type=mysql.VARCHAR(length=255),
               comment='链接地址',
               existing_nullable=True)
    op.alter_column('menu', 'icon',
               existing_type=mysql.VARCHAR(length=255),
               comment='icon',
               existing_comment='图标',
               existing_nullable=True)
    op.alter_column('menu', 'parent_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='父级菜单id',
               existing_comment='父级id',
               existing_nullable=True)
    op.alter_column('menu', 'redirect',
               existing_type=mysql.VARCHAR(length=255),
               comment='重定向路由',
               existing_comment='重定向',
               existing_nullable=True)
    op.alter_column('menu', 'sort',
               existing_type=mysql.INTEGER(display_width=11),
               comment='排序',
               existing_nullable=True)
    op.alter_column('menu', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('menu', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('menu', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('menu', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('menu', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('menu', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.drop_index('enabled_flag_index', table_name='menu')
    op.drop_index('id_index', table_name='menu')
    op.drop_index('name_index', table_name='menu')
    op.create_index(op.f('ix_menu_icon'), 'menu', ['icon'], unique=False)
    op.create_index(op.f('ix_menu_name'), 'menu', ['name'], unique=False)
    op.create_index(op.f('ix_menu_title'), 'menu', ['title'], unique=False)
    op.drop_column('menu', 'lookup_id')
    op.alter_column('menu_view_history', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('menu_view_history', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=True,
               existing_comment='更新时间')
    op.alter_column('menu_view_history', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='trace_id')
    op.alter_column('module_info', 'test_user',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='测试负责人',
               existing_comment='测试负责人id',
               existing_nullable=True)
    op.alter_column('module_info', 'module_packages',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='模块对应的包名称',
               existing_nullable=True)
    op.alter_column('module_info', 'priority',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='默认执行用例优先级',
               existing_nullable=True)
    op.alter_column('module_info', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('module_info', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_comment='创建人',
               existing_nullable=True)
    op.alter_column('module_info', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('module_info', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除')
    op.drop_index('enabled_flag_index', table_name='module_info')
    op.drop_index('id_index', table_name='module_info')
    op.drop_index('ix_module_info_module_name', table_name='module_info')
    op.drop_index('name_index', table_name='module_info')
    op.create_index(op.f('ix_module_info_name'), 'module_info', ['name'], unique=False)
    op.alter_column('notify', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('notify', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=True,
               existing_comment='更新时间')
    op.alter_column('notify', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='trace_id')
    op.alter_column('project_info', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               nullable=False,
               existing_comment='项目名称')
    op.alter_column('project_info', 'product_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='产品线id',
               existing_comment='产品线',
               existing_nullable=True)
    op.alter_column('project_info', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('project_info', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_comment='创建人',
               existing_nullable=True)
    op.alter_column('project_info', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_comment='更新人',
               existing_nullable=True)
    op.alter_column('project_info', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除')
    op.drop_index('enabled_flag_index', table_name='project_info')
    op.drop_index('id_index', table_name='project_info')
    op.drop_index('name_index', table_name='project_info')
    op.alter_column('repository_manager', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='仓库名称')
    op.alter_column('repository_manager', 'username',
               existing_type=mysql.VARCHAR(length=255),
               comment='用户名',
               existing_comment='账户',
               existing_nullable=True)
    op.alter_column('repository_manager', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_comment='组件',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('repository_manager', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('repository_manager', 'created_by',
               existing_type=mysql.BIGINT(display_width=20),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('repository_manager', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('repository_manager', 'updated_by',
               existing_type=mysql.BIGINT(display_width=20),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('repository_manager', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('repository_manager', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment='trace_id',
               existing_nullable=True)
    op.create_index(op.f('ix_repository_manager_name'), 'repository_manager', ['name'], unique=False)
    op.alter_column('request_history', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('request_history', 'remote_addr',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='用户名称')
    op.alter_column('request_history', 'real_ip',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='用户名称')
    op.alter_column('request_history', 'request',
               existing_type=mysql.TEXT(),
               nullable=True,
               existing_comment='用户名称')
    op.alter_column('request_history', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=True,
               existing_comment='更新时间')
    op.alter_column('request_history', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='trace_id')
    op.alter_column('roles', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment='菜单名称',
               existing_comment='名称')
    op.alter_column('roles', 'role_type',
               existing_type=mysql.INTEGER(display_width=11),
               comment='权限类型，10菜单权限，20用户组权限',
               existing_comment='权限类型',
               existing_nullable=True,
               existing_server_default=sa.text("'10'"))
    op.alter_column('roles', 'menus',
               existing_type=mysql.VARCHAR(length=500),
               comment='菜单列表',
               existing_comment='菜单ids',
               existing_nullable=True)
    op.alter_column('roles', 'status',
               existing_type=mysql.INTEGER(display_width=11),
               comment='状态 10 启用 20 禁用',
               existing_comment='角色状态 10 启用，20 禁用',
               existing_nullable=True,
               existing_server_default=sa.text("'10'"))
    op.alter_column('roles', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_comment='id',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('roles', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment='创建时间',
               existing_nullable=True)
    op.alter_column('roles', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment='创建人ID',
               existing_comment='创建人')
    op.alter_column('roles', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment='更新时间',
               existing_nullable=True)
    op.alter_column('roles', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment='更新人ID',
               existing_comment='更新人')
    op.alter_column('roles', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.create_index(op.f('ix_roles_menus'), 'roles', ['menus'], unique=False)
    op.create_index(op.f('ix_roles_name'), 'roles', ['name'], unique=False)
    op.create_index(op.f('ix_roles_role_type'), 'roles', ['role_type'], unique=False)
    op.alter_column('timed_task_case', 'task_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='定时任务id')
    op.alter_column('timed_task_case', 'case_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=False,
               comment='关系id')
    op.alter_column('timed_task_case', 'type',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='类型, case, ui, script, api')
    op.alter_column('timed_task_case', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('timed_task_case', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('timed_task_case', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('timed_task_case', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('ui_case', 'project_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='项目id',
               existing_nullable=True)
    op.alter_column('ui_case', 'module_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='模块id',
               existing_nullable=True)
    op.alter_column('ui_case', 'version',
               existing_type=mysql.VARCHAR(length=255),
               comment='版本',
               existing_nullable=True)
    op.alter_column('ui_case', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_case', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=True,
               existing_comment='更新时间')
    op.alter_column('ui_element', 'page_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               existing_comment='关联页面')
    op.alter_column('ui_element', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_element', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=True,
               existing_comment='更新时间')
    op.alter_column('ui_element', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='trace_id')
    op.alter_column('ui_page', 'url',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='url')
    op.alter_column('ui_page', 'tags',
               existing_type=mysql.JSON(),
               comment='标签',
               existing_nullable=True)
    op.alter_column('ui_page', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.drop_index('ix_ui_page_module_id', table_name='ui_page')
    op.drop_index('ix_ui_page_project_id', table_name='ui_page')
    op.drop_index('ix_ui_page_url', table_name='ui_page')
    op.alter_column('ui_reports', 'start_time',
               existing_type=mysql.DATETIME(),
               comment='执行时间',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_mode',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行类型， 10 同步， 20 异步，30 定时任务',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行步骤数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_success_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行成功数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_fail_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行失败数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_skip_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行跳过数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_err_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行错误数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_log',
               existing_type=mysql.TEXT(),
               comment='运行日志',
               existing_nullable=True)
    op.alter_column('ui_reports', 'env_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='运行环境',
               existing_nullable=True)
    op.alter_column('ui_reports', 'exec_user_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='执行人id',
               existing_nullable=True)
    op.alter_column('ui_reports', 'exec_user_name',
               existing_type=mysql.VARCHAR(length=255),
               comment='执行人昵称',
               existing_nullable=True)
    op.alter_column('ui_reports', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_reports', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=True,
               existing_comment='更新时间')
    op.drop_index('ix_ui_reports_module_id', table_name='ui_reports')
    op.drop_index('ix_ui_reports_project_id', table_name='ui_reports')
    op.drop_index('ix_ui_reports_success', table_name='ui_reports')
    op.create_index(op.f('ix_ui_reports_name'), 'ui_reports', ['name'], unique=False)
    op.drop_column('ui_reports', 'status')
    op.drop_column('ui_reports', 'remarks')
    op.alter_column('ui_steps', 'version',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment='版本')
    op.alter_column('ui_steps', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_steps', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=True,
               existing_comment='更新时间')
    op.alter_column('ui_steps', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='trace_id')
    op.alter_column('user', 'email',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='邮箱',
               existing_comment='密码',
               existing_nullable=True)
    op.alter_column('user', 'roles',
               existing_type=mysql.JSON(),
               comment='用户类型',
               existing_comment='用户角色',
               existing_nullable=True)
    op.alter_column('user', 'status',
               existing_type=mysql.INTEGER(display_width=11),
               comment='用户状态  1 锁定， 0 正常',
               existing_comment='用户状态 0 正常 1锁定',
               existing_nullable=True,
               existing_server_default=sa.text("'1'"))
    op.alter_column('user', 'user_type',
               existing_type=mysql.INTEGER(display_width=11),
               comment='用户类型 10 管理人员, 20 测试人员',
               existing_comment='用户类型， 10 管理人员, 20 测试人员',
               existing_nullable=True,
               existing_server_default=sa.text("'10'"))
    op.alter_column('user', 'avatar',
               existing_type=mysql.LONGTEXT(collation='utf8mb4_unicode_ci'),
               comment='头像',
               existing_comment='头像数据',
               existing_nullable=True)
    op.alter_column('user', 'tags',
               existing_type=mysql.JSON(),
               comment='标签',
               existing_comment='用户标签',
               existing_nullable=True)
    op.alter_column('user', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('user', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('user', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('user', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除',
               existing_server_default=sa.text("'1'"))
    op.drop_index('id_index', table_name='user')
    op.drop_index('ix_user_email', table_name='user')
    op.drop_index('ix_user_password', table_name='user')
    op.alter_column('user_login_record', 'user_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='用户id',
               existing_nullable=True)
    op.alter_column('user_login_record', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('user_login_record', 'created_by',
               existing_type=mysql.VARCHAR(length=64),
               comment='创建人ID',
               existing_nullable=True)
    op.alter_column('user_login_record', 'updated_by',
               existing_type=mysql.VARCHAR(length=64),
               comment='更新人ID',
               existing_nullable=True)
    op.alter_column('user_login_record', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=False,
               comment='是否删除, 0 删除 1 非删除',
               existing_comment='是否删除')
    op.drop_index('idx_login_record_code', table_name='user_login_record')
    op.drop_index('idx_login_record_login_ip', table_name='user_login_record')
    op.drop_index('idx_login_record_login_time', table_name='user_login_record')
    op.drop_index('idx_login_record_login_type', table_name='user_login_record')
    op.drop_index('idx_login_record_ret_code', table_name='user_login_record')
    op.drop_index('idx_login_record_token', table_name='user_login_record')
    op.create_index(op.f('ix_user_login_record_code'), 'user_login_record', ['code'], unique=False)
    op.create_index(op.f('ix_user_login_record_login_ip'), 'user_login_record', ['login_ip'], unique=False)
    op.create_index(op.f('ix_user_login_record_login_time'), 'user_login_record', ['login_time'], unique=False)
    op.create_index(op.f('ix_user_login_record_login_type'), 'user_login_record', ['login_type'], unique=False)
    op.create_index(op.f('ix_user_login_record_ret_code'), 'user_login_record', ['ret_code'], unique=False)
    op.create_index(op.f('ix_user_login_record_token'), 'user_login_record', ['token'], unique=False)
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_user_login_record_token'), table_name='user_login_record')
    op.drop_index(op.f('ix_user_login_record_ret_code'), table_name='user_login_record')
    op.drop_index(op.f('ix_user_login_record_login_type'), table_name='user_login_record')
    op.drop_index(op.f('ix_user_login_record_login_time'), table_name='user_login_record')
    op.drop_index(op.f('ix_user_login_record_login_ip'), table_name='user_login_record')
    op.drop_index(op.f('ix_user_login_record_code'), table_name='user_login_record')
    op.create_index('idx_login_record_token', 'user_login_record', ['token'], unique=False)
    op.create_index('idx_login_record_ret_code', 'user_login_record', ['ret_code'], unique=False)
    op.create_index('idx_login_record_login_type', 'user_login_record', ['login_type'], unique=False)
    op.create_index('idx_login_record_login_time', 'user_login_record', ['login_time'], unique=False)
    op.create_index('idx_login_record_login_ip', 'user_login_record', ['login_ip'], unique=False)
    op.create_index('idx_login_record_code', 'user_login_record', ['code'], unique=False)
    op.alter_column('user_login_record', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('user_login_record', 'updated_by',
               existing_type=mysql.VARCHAR(length=64),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('user_login_record', 'created_by',
               existing_type=mysql.VARCHAR(length=64),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('user_login_record', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('user_login_record', 'user_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='用户id',
               existing_nullable=True)
    op.create_index('ix_user_password', 'user', ['password'], unique=False)
    op.create_index('ix_user_email', 'user', ['email'], unique=False)
    op.create_index('id_index', 'user', ['id'], unique=False)
    op.alter_column('user', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('user', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('user', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('user', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('user', 'tags',
               existing_type=mysql.JSON(),
               comment='用户标签',
               existing_comment='标签',
               existing_nullable=True)
    op.alter_column('user', 'avatar',
               existing_type=mysql.LONGTEXT(collation='utf8mb4_unicode_ci'),
               comment='头像数据',
               existing_comment='头像',
               existing_nullable=True)
    op.alter_column('user', 'user_type',
               existing_type=mysql.INTEGER(display_width=11),
               comment='用户类型， 10 管理人员, 20 测试人员',
               existing_comment='用户类型 10 管理人员, 20 测试人员',
               existing_nullable=True,
               existing_server_default=sa.text("'10'"))
    op.alter_column('user', 'status',
               existing_type=mysql.INTEGER(display_width=11),
               comment='用户状态 0 正常 1锁定',
               existing_comment='用户状态  1 锁定， 0 正常',
               existing_nullable=True,
               existing_server_default=sa.text("'1'"))
    op.alter_column('user', 'roles',
               existing_type=mysql.JSON(),
               comment='用户角色',
               existing_comment='用户类型',
               existing_nullable=True)
    op.alter_column('user', 'email',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='密码',
               existing_comment='邮箱',
               existing_nullable=True)
    op.alter_column('ui_steps', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='trace_id')
    op.alter_column('ui_steps', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=False,
               existing_comment='更新时间')
    op.alter_column('ui_steps', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_steps', 'version',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               comment=None,
               existing_comment='版本')
    op.add_column('ui_reports', sa.Column('remarks', mysql.VARCHAR(length=255), nullable=True, comment='备注'))
    op.add_column('ui_reports', sa.Column('status', mysql.VARCHAR(length=255), nullable=True, comment='状态'))
    op.drop_index(op.f('ix_ui_reports_name'), table_name='ui_reports')
    op.create_index('ix_ui_reports_success', 'ui_reports', ['success'], unique=False)
    op.create_index('ix_ui_reports_project_id', 'ui_reports', ['project_id'], unique=False)
    op.create_index('ix_ui_reports_module_id', 'ui_reports', ['module_id'], unique=False)
    op.alter_column('ui_reports', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=False,
               existing_comment='更新时间')
    op.alter_column('ui_reports', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_reports', 'exec_user_name',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='执行人昵称',
               existing_nullable=True)
    op.alter_column('ui_reports', 'exec_user_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='执行人id',
               existing_nullable=True)
    op.alter_column('ui_reports', 'env_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行环境',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_log',
               existing_type=mysql.TEXT(),
               comment=None,
               existing_comment='运行日志',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_err_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行错误数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_skip_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行跳过数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_fail_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行失败数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_success_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行成功数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行步骤数',
               existing_nullable=True)
    op.alter_column('ui_reports', 'run_mode',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行类型， 10 同步， 20 异步，30 定时任务',
               existing_nullable=True)
    op.alter_column('ui_reports', 'start_time',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='执行时间',
               existing_nullable=True)
    op.create_index('ix_ui_page_url', 'ui_page', ['url'], unique=False)
    op.create_index('ix_ui_page_project_id', 'ui_page', ['project_id'], unique=False)
    op.create_index('ix_ui_page_module_id', 'ui_page', ['module_id'], unique=False)
    op.alter_column('ui_page', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_page', 'tags',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='标签',
               existing_nullable=True)
    op.alter_column('ui_page', 'url',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='url')
    op.alter_column('ui_element', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='trace_id')
    op.alter_column('ui_element', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=False,
               existing_comment='更新时间')
    op.alter_column('ui_element', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_element', 'page_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               existing_comment='关联页面')
    op.alter_column('ui_case', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=False,
               existing_comment='更新时间')
    op.alter_column('ui_case', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('ui_case', 'version',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='版本',
               existing_nullable=True)
    op.alter_column('ui_case', 'module_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='模块id',
               existing_nullable=True)
    op.alter_column('ui_case', 'project_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='项目id',
               existing_nullable=True)
    op.alter_column('timed_task_case', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('timed_task_case', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('timed_task_case', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('timed_task_case', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('timed_task_case', 'type',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='类型, case, ui, script, api')
    op.alter_column('timed_task_case', 'case_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='关系id')
    op.alter_column('timed_task_case', 'task_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='定时任务id')
    op.drop_index(op.f('ix_roles_role_type'), table_name='roles')
    op.drop_index(op.f('ix_roles_name'), table_name='roles')
    op.drop_index(op.f('ix_roles_menus'), table_name='roles')
    op.alter_column('roles', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('roles', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='更新人',
               existing_comment='更新人ID')
    op.alter_column('roles', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('roles', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment='创建人',
               existing_comment='创建人ID')
    op.alter_column('roles', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('roles', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='id',
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('roles', 'status',
               existing_type=mysql.INTEGER(display_width=11),
               comment='角色状态 10 启用，20 禁用',
               existing_comment='状态 10 启用 20 禁用',
               existing_nullable=True,
               existing_server_default=sa.text("'10'"))
    op.alter_column('roles', 'menus',
               existing_type=mysql.VARCHAR(length=500),
               comment='菜单ids',
               existing_comment='菜单列表',
               existing_nullable=True)
    op.alter_column('roles', 'role_type',
               existing_type=mysql.INTEGER(display_width=11),
               comment='权限类型',
               existing_comment='权限类型，10菜单权限，20用户组权限',
               existing_nullable=True,
               existing_server_default=sa.text("'10'"))
    op.alter_column('roles', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment='名称',
               existing_comment='菜单名称')
    op.alter_column('request_history', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='trace_id')
    op.alter_column('request_history', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=False,
               existing_comment='更新时间')
    op.alter_column('request_history', 'request',
               existing_type=mysql.TEXT(),
               nullable=False,
               existing_comment='用户名称')
    op.alter_column('request_history', 'real_ip',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='用户名称')
    op.alter_column('request_history', 'remote_addr',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='用户名称')
    op.alter_column('request_history', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.drop_index(op.f('ix_repository_manager_name'), table_name='repository_manager')
    op.alter_column('repository_manager', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='trace_id',
               existing_nullable=True)
    op.alter_column('repository_manager', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('repository_manager', 'updated_by',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('repository_manager', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('repository_manager', 'created_by',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('repository_manager', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('repository_manager', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='组件',
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('repository_manager', 'username',
               existing_type=mysql.VARCHAR(length=255),
               comment='账户',
               existing_comment='用户名',
               existing_nullable=True)
    op.alter_column('repository_manager', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='仓库名称')
    op.create_index('name_index', 'project_info', ['name'], unique=False)
    op.create_index('id_index', 'project_info', ['id'], unique=False)
    op.create_index('enabled_flag_index', 'project_info', ['enabled_flag'], unique=False)
    op.alter_column('project_info', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('project_info', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人',
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('project_info', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人',
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('project_info', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('project_info', 'product_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='产品线',
               existing_comment='产品线id',
               existing_nullable=True)
    op.alter_column('project_info', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               nullable=True,
               existing_comment='项目名称')
    op.alter_column('notify', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='trace_id')
    op.alter_column('notify', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=False,
               existing_comment='更新时间')
    op.alter_column('notify', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.drop_index(op.f('ix_module_info_name'), table_name='module_info')
    op.create_index('name_index', 'module_info', ['name'], unique=False)
    op.create_index('ix_module_info_module_name', 'module_info', ['name'], unique=False)
    op.create_index('id_index', 'module_info', ['id'], unique=False)
    op.create_index('enabled_flag_index', 'module_info', ['enabled_flag'], unique=False)
    op.alter_column('module_info', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('module_info', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('module_info', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人',
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('module_info', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('module_info', 'priority',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='默认执行用例优先级',
               existing_nullable=True)
    op.alter_column('module_info', 'module_packages',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='模块对应的包名称',
               existing_nullable=True)
    op.alter_column('module_info', 'test_user',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='测试负责人id',
               existing_comment='测试负责人',
               existing_nullable=True)
    op.alter_column('menu_view_history', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='trace_id')
    op.alter_column('menu_view_history', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=False,
               existing_comment='更新时间')
    op.alter_column('menu_view_history', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.add_column('menu', sa.Column('lookup_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))
    op.drop_index(op.f('ix_menu_title'), table_name='menu')
    op.drop_index(op.f('ix_menu_name'), table_name='menu')
    op.drop_index(op.f('ix_menu_icon'), table_name='menu')
    op.create_index('name_index', 'menu', ['name'], unique=False)
    op.create_index('id_index', 'menu', ['id'], unique=False)
    op.create_index('enabled_flag_index', 'menu', ['enabled_flag'], unique=False)
    op.alter_column('menu', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('menu', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('menu', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('menu', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('menu', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('menu', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('menu', 'sort',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='排序',
               existing_nullable=True)
    op.alter_column('menu', 'redirect',
               existing_type=mysql.VARCHAR(length=255),
               comment='重定向',
               existing_comment='重定向路由',
               existing_nullable=True)
    op.alter_column('menu', 'parent_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment='父级id',
               existing_comment='父级菜单id',
               existing_nullable=True)
    op.alter_column('menu', 'icon',
               existing_type=mysql.VARCHAR(length=255),
               comment='图标',
               existing_comment='icon',
               existing_nullable=True)
    op.alter_column('menu', 'linkUrl',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='链接地址',
               existing_nullable=True)
    op.alter_column('menu', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='菜单名称')
    op.drop_index(op.f('ix_lookup_value_lookup_id'), table_name='lookup_value')
    op.drop_index(op.f('ix_lookup_value_lookup_code'), table_name='lookup_value')
    op.create_index('idx_lookup_id', 'lookup_value', ['lookup_id', 'enabled_flag'], unique=False)
    op.create_index('idx_lookup_enable', 'lookup_value', ['enabled_flag'], unique=False)
    op.create_index('idx_lookup_code', 'lookup_value', ['lookup_code'], unique=False)
    op.alter_column('lookup_value', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               comment='是否有效',
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_nullable=False,
               existing_server_default=sa.text("'1'"))
    op.alter_column('lookup_value', 'updated_by',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='最后更新人',
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('lookup_value', 'updation_date',
               existing_type=mysql.TIMESTAMP(),
               comment='最后更新时间',
               existing_comment='更新时间',
               existing_nullable=True,
               existing_server_default=sa.text('CURRENT_TIMESTAMP'))
    op.alter_column('lookup_value', 'created_by',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment='创建人',
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('lookup_value', 'lookup_code',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=32),
               nullable=False,
               existing_comment='编码')
    op.drop_index(op.f('ix_lookup_code'), table_name='lookup')
    op.alter_column('lookup', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_nullable=False,
               existing_server_default=sa.text("'1'"))
    op.alter_column('lookup', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('lookup', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('lookup', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('lookup', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('lookup', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('lookup', 'code',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='数据字典编码',
               existing_comment='编码',
               existing_nullable=False)
    op.alter_column('functions', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('functions', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('functions', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('functions', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('functions', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('functions', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('functions', 'func_tags',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='函数标签',
               existing_nullable=True)
    op.alter_column('functions', 'func_type',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='函数类型',
               existing_nullable=True)
    op.alter_column('functions', 'content',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment=None,
               existing_comment='自定义函数内容',
               existing_nullable=True)
    op.alter_column('functions', 'project_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='关联项目',
               existing_nullable=True)
    op.alter_column('functions', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='备注',
               existing_nullable=True)
    op.alter_column('functions', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               comment=None,
               existing_comment='name')
    op.alter_column('file_info', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=False,
               existing_comment='trace_id')
    op.alter_column('file_info', 'updation_date',
               existing_type=mysql.DATETIME(),
               nullable=False,
               existing_comment='更新时间')
    op.drop_index(op.f('ix_env_func_func_id'), table_name='env_func')
    op.drop_index(op.f('ix_env_func_env_id'), table_name='env_func')
    op.create_index('index_id', 'env_func', ['id'], unique=False)
    op.create_index('index_env_id', 'env_func', ['env_id'], unique=False)
    op.create_index('index_data_source_id', 'env_func', ['func_id'], unique=False)
    op.alter_column('env_func', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('env_func', 'updated_by',
               existing_type=mysql.VARCHAR(charset='utf8', length=64),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('env_func', 'created_by',
               existing_type=mysql.VARCHAR(charset='utf8', length=64),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('env_func', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('env_func', 'func_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='辅助函数id')
    op.alter_column('env_func', 'env_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='环境id')
    op.drop_index(op.f('ix_env_data_source_env_id'), table_name='env_data_source')
    op.drop_index(op.f('ix_env_data_source_data_source_id'), table_name='env_data_source')
    op.create_index('index_id', 'env_data_source', ['id'], unique=False)
    op.create_index('index_env_id', 'env_data_source', ['env_id'], unique=False)
    op.create_index('index_data_source_id', 'env_data_source', ['data_source_id'], unique=False)
    op.alter_column('env_data_source', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('env_data_source', 'updated_by',
               existing_type=mysql.VARCHAR(charset='utf8', length=64),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('env_data_source', 'created_by',
               existing_type=mysql.VARCHAR(charset='utf8', length=64),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('env_data_source', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('env_data_source', 'data_source_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='数据源id')
    op.alter_column('env_data_source', 'env_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='环境id')
    op.drop_index(op.f('ix_env_name'), table_name='env')
    op.alter_column('env', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_nullable=False,
               existing_server_default=sa.text("'1'"))
    op.alter_column('env', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('env', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('env', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('env', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('env', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('env', 'data_sources',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='数据源',
               existing_nullable=True)
    op.alter_column('env', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='说明',
               existing_nullable=True)
    op.alter_column('env', 'domain_name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='环境域名',
               existing_comment='url地址',
               existing_nullable=True)
    op.alter_column('env', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='环境名称',
               existing_nullable=False)
    op.add_column('data_source', sa.Column('env_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True, comment='所属环境id'))
    op.drop_index(op.f('ix_data_source_type'), table_name='data_source')
    op.drop_index(op.f('ix_data_source_name'), table_name='data_source')
    op.alter_column('data_source', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('data_source', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('data_source', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('data_source', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('data_source', 'host',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='主机名',
               existing_comment='ip',
               existing_nullable=True)
    op.alter_column('data_source', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               existing_comment='数据源名称')
    op.alter_column('coverage_method_detail', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='trace_id',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('coverage_method_detail', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('coverage_method_detail', 'method_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='覆盖方法',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'method_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='未覆盖方法',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'complexity_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='覆盖复杂度',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'complexity_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='未覆盖复杂度',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'line_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='覆盖行',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'line_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='未覆盖行',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'instruction_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='覆盖指令',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'instruction_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='未覆盖指令',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'branch_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='覆盖分支',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'branch_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='未覆盖分支',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_method_detail', 'lines_covered_status',
               existing_type=mysql.TEXT(),
               comment=None,
               existing_comment='行覆盖状态',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'offset',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='偏移量',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'params_string',
               existing_type=mysql.TEXT(),
               comment=None,
               existing_comment='参数',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'class_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='类id',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'method_md5',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='类名',
               existing_nullable=True)
    op.alter_column('coverage_method_detail', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment=None,
               existing_comment='包名')
    op.alter_column('coverage_method_detail', 'report_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='报告id')
    op.add_column('coverage_class_detail', sa.Column('branch_missed', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('line_missed', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('instruction_covered', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('instruction_missed', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('line_covered', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('method_missed', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('method_covered', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('complexity_missed', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('complexity_covered', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.add_column('coverage_class_detail', sa.Column('branch_covered', mysql.INTEGER(display_width=11), server_default=sa.text("'0'"), autoincrement=False, nullable=True))
    op.alter_column('coverage_class_detail', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='trace_id',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('coverage_class_detail', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('coverage_class_detail', 'class_covered',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='覆盖类',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_class_detail', 'class_missed',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='未覆盖类',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('coverage_class_detail', 'class_md5',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='class文件md5',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'class_source_path',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='class 源码路径',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'class_file_content',
               existing_type=mysql.LONGTEXT(),
               comment=None,
               existing_comment='class文件内容',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'class_name',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='类名',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'package_name',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='包名',
               existing_nullable=True)
    op.alter_column('coverage_class_detail', 'report_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='报告id')
    op.drop_index(op.f('ix_coverage_backend_report_name'), table_name='coverage_backend_report')
    op.alter_column('coverage_backend_report', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='trace_id',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('coverage_backend_report', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('coverage_backend_report', 'coverage_rate',
               existing_type=mysql.VARCHAR(length=200),
               comment=None,
               existing_comment='覆盖率',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'method_count',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='方法数据',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'class_count',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='类数据',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'package_count',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='包数量',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'old_last_commit_id',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='旧分支最后提交id',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'old_branches',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='比对分支或者md5',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'new_last_commit_id',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='新分支最后提交id',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'new_branches',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='新分支或者md5',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'report_type',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='10 full 全量， 20 diff 增量',
               existing_nullable=True)
    op.alter_column('coverage_backend_report', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment=None,
               existing_comment='仓库名称')
    op.alter_column('celery_task_record', 'trace_id',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='trace_id',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('celery_task_record', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_task_record', 'kwargs',
               existing_type=mysql.TEXT(),
               nullable=True,
               comment=None,
               existing_comment='业务参数')
    op.alter_column('celery_task_record', 'args',
               existing_type=mysql.TEXT(),
               nullable=True,
               comment=None,
               existing_comment='业务参数')
    op.alter_column('celery_task_record', 'business_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='业务id')
    op.alter_column('celery_task_record', 'traceback',
               existing_type=mysql.TEXT(),
               nullable=True,
               comment=None,
               existing_comment='异常信息')
    op.alter_column('celery_task_record', 'duration',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment=None,
               existing_comment='耗时')
    op.alter_column('celery_task_record', 'end_time',
               existing_type=mysql.DATETIME(),
               nullable=True,
               comment=None,
               existing_comment='结束时间')
    op.alter_column('celery_task_record', 'start_time',
               existing_type=mysql.DATETIME(),
               nullable=True,
               comment=None,
               existing_comment='开始时间')
    op.alter_column('celery_task_record', 'result',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment=None,
               existing_comment='任务结果')
    op.alter_column('celery_task_record', 'status',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment=None,
               existing_comment='任务状态')
    op.alter_column('celery_task_record', 'task_type',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='任务类型 10普通任务 20定时任务')
    op.alter_column('celery_task_record', 'task_name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment=None,
               existing_comment='任务名称')
    op.alter_column('celery_task_record', 'task_id',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               comment=None,
               existing_comment='任务id')
    op.alter_column('celery_periodic_task_changed', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('celery_periodic_task_changed', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_periodic_task_changed', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task_changed', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_periodic_task_changed', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task_changed', 'last_update',
               existing_type=mysql.DATETIME(),
               nullable=False,
               comment=None,
               existing_comment='到期时间')
    op.add_column('celery_periodic_task', sa.Column('run_mode', mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255), nullable=True))
    op.add_column('celery_periodic_task', sa.Column('solar_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))
    op.add_column('celery_periodic_task', sa.Column('run_type', mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255), nullable=True))
    op.add_column('celery_periodic_task', sa.Column('priority', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))
    op.create_index('name', 'celery_periodic_task', ['name'], unique=False)
    op.alter_column('celery_periodic_task', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('celery_periodic_task', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('celery_periodic_task', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               comment=None,
               existing_comment='任务描述')
    op.alter_column('celery_periodic_task', 'task_tags',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               comment=None,
               existing_comment='任务标签')
    op.alter_column('celery_periodic_task', 'script_ids',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=500),
               nullable=True,
               comment=None,
               existing_comment='脚本id')
    op.alter_column('celery_periodic_task', 'ui_ids',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=500),
               nullable=True,
               comment=None,
               existing_comment='ui用例集合')
    op.alter_column('celery_periodic_task', 'ui_env_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='case_env_id 用例环境')
    op.alter_column('celery_periodic_task', 'case_ids',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=500),
               nullable=True,
               comment=None,
               existing_comment='用例集合')
    op.alter_column('celery_periodic_task', 'case_env_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='case_env_id 用例环境')
    op.alter_column('celery_periodic_task', 'suite_id',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='套件id')
    op.alter_column('celery_periodic_task', 'module_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='模块id')
    op.alter_column('celery_periodic_task', 'project_id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='项目id',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'task_type',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               existing_comment='crontab interval')
    op.alter_column('celery_periodic_task', 'interval_period',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='间隔类型',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'interval_every',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='间隔时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'interval_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='间隔id',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'crontab',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='crontab 表达式',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'crontab_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='定时器id',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'description',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment=None,
               existing_comment='备注',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'date_changed',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更改日期',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'total_run_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行总次数',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'last_run_at',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='上次运行时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'enabled',
               existing_type=mysql.TINYINT(display_width=1),
               comment=None,
               existing_comment='是否启用, 1启动，0停用',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'start_time',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='开始时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'one_off',
               existing_type=mysql.TINYINT(display_width=1),
               comment=None,
               existing_comment='执行一次',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'expires',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='到期时间',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'routing_key',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='路由密钥',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'exchange',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='交换',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'queue',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='队列',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'kwargs',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment=None,
               existing_comment='关键字参数',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'args',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment=None,
               existing_comment='参数',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'task',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='任务路径',
               existing_nullable=True)
    op.alter_column('celery_periodic_task', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               comment=None,
               existing_comment='定时任务名')
    op.alter_column('celery_interval_schedule', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('celery_interval_schedule', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'period',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=24),
               comment=None,
               existing_comment='间隔单位',
               existing_nullable=True)
    op.alter_column('celery_interval_schedule', 'every',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=False,
               comment=None,
               existing_comment='区间数')
    op.alter_column('celery_crontab_schedule', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('celery_crontab_schedule', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'timezone',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment=None,
               existing_comment='时区',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'month_of_year',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment=None,
               existing_comment='年',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'day_of_month',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=124),
               comment=None,
               existing_comment='月份',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'day_of_week',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=64),
               comment=None,
               existing_comment='日期',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'hour',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=96),
               comment=None,
               existing_comment='小时',
               existing_nullable=True)
    op.alter_column('celery_crontab_schedule', 'minute',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=240),
               comment=None,
               existing_comment='分钟',
               existing_nullable=True)
    op.drop_index(op.f('ix_api_test_report_name'), table_name='api_test_report')
    op.alter_column('api_test_report', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_test_report', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('api_test_report', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('api_test_report', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('api_test_report', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('api_test_report', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('api_test_report', 'error_msg',
               existing_type=mysql.TEXT(),
               comment=None,
               existing_comment='错误信息',
               existing_nullable=True)
    op.alter_column('api_test_report', 'exec_user_name',
               existing_type=mysql.VARCHAR(length=255),
               comment=None,
               existing_comment='执行人昵称',
               existing_nullable=True)
    op.alter_column('api_test_report', 'exec_user_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='执行人id',
               existing_nullable=True)
    op.alter_column('api_test_report', 'env_id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行环境',
               existing_nullable=True)
    op.alter_column('api_test_report', 'run_err_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行错误数',
               existing_nullable=True)
    op.alter_column('api_test_report', 'run_skip_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment='跳过',
               existing_comment='运行跳过数',
               existing_nullable=True)
    op.alter_column('api_test_report', 'run_fail_count',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='运行失败数',
               existing_nullable=True)
    op.alter_column('api_test_report', 'run_mode',
               existing_type=mysql.VARCHAR(length=255),
               comment='运行模式， case 用例， suites 套件',
               existing_comment='运行模式， api 接口， case 用例',
               existing_nullable=True)
    op.alter_column('api_test_report', 'name',
               existing_type=mysql.VARCHAR(length=255),
               nullable=True,
               existing_comment='报告名称')
    op.add_column('api_info', sa.Column('enable', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True))
    op.drop_index(op.f('ix_api_info_name'), table_name='api_info')
    op.create_index('name_index', 'api_info', ['name'], unique=False)
    op.create_index('id_index', 'api_info', ['id'], unique=False)
    op.create_index('enabled_flag_index', 'api_info', ['enabled_flag'], unique=False)
    op.alter_column('api_info', 'trace_id',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='trace_id',
               existing_nullable=True)
    op.alter_column('api_info', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_info', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('api_info', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('api_info', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('api_info', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('api_info', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('api_info', 'export',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='输出',
               existing_nullable=True)
    op.alter_column('api_info', 'extracts',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='提取',
               existing_nullable=True)
    op.alter_column('api_info', 'headers',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='请求头',
               existing_nullable=True)
    op.alter_column('api_info', 'teardown_code',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment=None,
               existing_comment='后置code',
               existing_nullable=True)
    op.alter_column('api_info', 'setup_code',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment=None,
               existing_comment='前置code',
               existing_nullable=True)
    op.alter_column('api_info', 'post_steps',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='后置步骤',
               existing_nullable=True)
    op.alter_column('api_info', 'pre_steps',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='前置步骤',
               existing_nullable=True)
    op.alter_column('api_info', 'step_type',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='描述',
               existing_nullable=True)
    op.alter_column('api_info', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='描述',
               existing_nullable=True)
    op.alter_column('api_info', 'method',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='请求方法',
               existing_comment='请求方式',
               existing_nullable=True)
    op.alter_column('api_info', 'url',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               existing_comment='请求地址')
    op.alter_column('api_info', 'module_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               existing_comment='所属模块')
    op.alter_column('api_info', 'project_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               existing_comment='所属项目')
    op.alter_column('api_info', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               comment='用例/配置名称',
               existing_comment='用例名称')
    op.drop_index(op.f('ix_api_case_step_name'), table_name='api_case_step')
    op.create_index('name_index', 'api_case_step', ['name'], unique=False)
    op.create_index('id_index', 'api_case_step', ['id'], unique=False)
    op.create_index('enabled_flag_index', 'api_case_step', ['enabled_flag'], unique=False)
    op.alter_column('api_case_step', 'trace_id',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='trace_id',
               existing_nullable=True)
    op.alter_column('api_case_step', 'enabled_flag',
               existing_type=mysql.INTEGER(display_width=11),
               nullable=True,
               comment=None,
               existing_comment='是否删除, 0 删除 1 非删除',
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_case_step', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('api_case_step', 'updation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='更新时间',
               existing_nullable=True)
    op.alter_column('api_case_step', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('api_case_step', 'creation_date',
               existing_type=mysql.DATETIME(),
               comment=None,
               existing_comment='创建时间',
               existing_nullable=True)
    op.alter_column('api_case_step', 'id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('api_case_step', 'version',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='版本号',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('api_case_step', 'is_quotation',
               existing_type=mysql.INTEGER(display_width=2),
               comment=None,
               existing_comment='是否引用 0 否 1 是',
               existing_nullable=True,
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_case_step', 'enable',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='是否启用 0 否 1 是',
               existing_nullable=True,
               existing_server_default=sa.text("'1'"))
    op.alter_column('api_case_step', 'node_id',
               existing_type=mysql.VARCHAR(charset='utf8mb4', length=255),
               comment=None,
               existing_comment='节点id',
               existing_nullable=True)
    op.alter_column('api_case_step', 'index',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='步骤顺序',
               existing_nullable=True)
    op.alter_column('api_case_step', 'parent_step_id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='父步骤id',
               existing_nullable=True)
    op.alter_column('api_case_step', 'step_id',
               existing_type=mysql.BIGINT(display_width=20),
               comment=None,
               existing_comment='步骤id',
               existing_nullable=True)
    op.alter_column('api_case_step', 'export',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='输出',
               existing_nullable=True)
    op.alter_column('api_case_step', 'extracts',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='提取',
               existing_nullable=True)
    op.alter_column('api_case_step', 'headers',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='请求头',
               existing_nullable=True)
    op.alter_column('api_case_step', 'teardown_code',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment=None,
               existing_comment='后置code',
               existing_nullable=True)
    op.alter_column('api_case_step', 'setup_code',
               existing_type=mysql.TEXT(collation='utf8mb4_unicode_ci'),
               comment=None,
               existing_comment='前置code',
               existing_nullable=True)
    op.alter_column('api_case_step', 'post_steps',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='后置步骤',
               existing_nullable=True)
    op.alter_column('api_case_step', 'pre_steps',
               existing_type=mysql.JSON(),
               comment=None,
               existing_comment='前置步骤',
               existing_nullable=True)
    op.alter_column('api_case_step', 'step_type',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='描述',
               existing_nullable=True)
    op.alter_column('api_case_step', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='描述',
               existing_nullable=True)
    op.alter_column('api_case_step', 'method',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment='请求方法',
               existing_comment='请求方式',
               existing_nullable=True)
    op.alter_column('api_case_step', 'url',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               existing_comment='请求地址')
    op.alter_column('api_case_step', 'module_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               existing_comment='所属模块')
    op.alter_column('api_case_step', 'project_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               existing_comment='所属项目')
    op.alter_column('api_case_step', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               comment='用例/配置名称',
               existing_comment='用例名称')
    op.alter_column('api_case_step', 'source_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='源id')
    op.alter_column('api_case_step', 'case_id',
               existing_type=mysql.BIGINT(display_width=20),
               nullable=True,
               comment=None,
               existing_comment='用例id')
    op.drop_index(op.f('ix_api_case_name'), table_name='api_case')
    op.create_index('name_index', 'api_case', ['name'], unique=False)
    op.create_index('id_index', 'api_case', ['id'], unique=False)
    op.create_index('enabled_flag_index', 'api_case', ['enabled_flag'], unique=False)
    op.alter_column('api_case', 'trace_id',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='trace_id',
               existing_nullable=True)
    op.alter_column('api_case', 'enabled_flag',
               existing_type=mysql.TINYINT(display_width=1),
               nullable=True,
               comment='是否删除',
               existing_comment='是否删除, 0 删除 1 非删除')
    op.alter_column('api_case', 'updated_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='更新人',
               existing_comment='更新人ID',
               existing_nullable=True)
    op.alter_column('api_case', 'created_by',
               existing_type=mysql.INTEGER(display_width=11),
               comment='创建人',
               existing_comment='创建人ID',
               existing_nullable=True)
    op.alter_column('api_case', 'id',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='主键',
               existing_nullable=False,
               autoincrement=True)
    op.alter_column('api_case', 'version',
               existing_type=mysql.INTEGER(display_width=11),
               comment=None,
               existing_comment='版本',
               existing_nullable=True,
               existing_server_default=sa.text("'0'"))
    op.alter_column('api_case', 'step_data',
               existing_type=mysql.JSON(),
               comment='步骤',
               existing_comment='场景步骤',
               existing_nullable=True)
    op.alter_column('api_case', 'variables',
               existing_type=mysql.JSON(),
               comment='变量',
               existing_comment='场景变量',
               existing_nullable=True)
    op.alter_column('api_case', 'headers',
               existing_type=mysql.JSON(),
               comment='请求头',
               existing_comment='场景请求头',
               existing_nullable=True)
    op.alter_column('api_case', 'remarks',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               comment=None,
               existing_comment='备注',
               existing_nullable=True)
    op.alter_column('api_case', 'project_id',
               existing_type=mysql.BIGINT(display_width=22),
               nullable=True,
               comment=None,
               existing_comment='所属项目')
    op.alter_column('api_case', 'name',
               existing_type=mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255),
               nullable=True,
               comment=None,
               existing_comment='名称')
    op.create_table('celery_solar_schedule',
    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),
    sa.Column('event', mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=24), nullable=True),
    sa.Column('latitude', mysql.FLOAT(), nullable=True),
    sa.Column('longitude', mysql.FLOAT(), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    mysql_collate='utf8mb4_unicode_ci',
    mysql_default_charset='utf8mb4',
    mysql_engine='InnoDB',
    mysql_row_format='DYNAMIC'
    )
    op.create_table('env_config',
    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),
    sa.Column('name', mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255), nullable=True, comment='环境名称'),
    sa.Column('domain_name', mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255), nullable=True, comment='环境域名'),
    sa.Column('variables', mysql.JSON(), nullable=True, comment='环境变量'),
    sa.Column('headers', mysql.JSON(), nullable=True, comment='环境请求头'),
    sa.Column('creation_date', mysql.DATETIME(), nullable=True),
    sa.Column('updation_date', mysql.DATETIME(), nullable=True),
    sa.Column('enabled_flag', mysql.INTEGER(display_width=11), server_default=sa.text("'1'"), autoincrement=False, nullable=False),
    sa.Column('created_by', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('updated_by', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('remarks', mysql.VARCHAR(collation='utf8mb4_unicode_ci', length=255), nullable=True),
    sa.Column('trace_id', mysql.VARCHAR(charset='utf8mb4', length=255), nullable=True, comment='trace_id'),
    sa.PrimaryKeyConstraint('id'),
    mysql_collate='utf8mb4_unicode_ci',
    mysql_default_charset='utf8mb4',
    mysql_engine='InnoDB',
    mysql_row_format='DYNAMIC'
    )
    op.create_table('ui_report_detail_0',
    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),
    sa.Column('name', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('index', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('variables', mysql.JSON(), nullable=True),
    sa.Column('data', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('action', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('location_method', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('location_value', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('report_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('success', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('status', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('case_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('step_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('remarks', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('start_time', mysql.DATETIME(), nullable=True),
    sa.Column('duration', mysql.DECIMAL(precision=10, scale=3), nullable=True),
    sa.Column('setup_hook_results', mysql.JSON(), nullable=True),
    sa.Column('teardown_hook_results', mysql.JSON(), nullable=True),
    sa.Column('validator_results', mysql.JSON(), nullable=True),
    sa.Column('screenshot_file_id', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('log', mysql.TEXT(), nullable=True),
    sa.Column('creation_date', mysql.DATETIME(), nullable=True),
    sa.Column('created_by', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('updation_date', mysql.DATETIME(), nullable=True),
    sa.Column('updated_by', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('enabled_flag', mysql.INTEGER(display_width=11), server_default=sa.text("'1'"), autoincrement=False, nullable=True),
    sa.Column('trace_id', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('message', mysql.TEXT(), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    mysql_default_charset='utf8mb4',
    mysql_engine='InnoDB',
    mysql_row_format='DYNAMIC'
    )
    op.create_table('api_test_report_detail_0',
    sa.Column('id', mysql.INTEGER(display_width=11), autoincrement=True, nullable=False),
    sa.Column('name', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('case_id', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('success', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('status', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('step_id', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('parent_step_id', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('step_type', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('message', mysql.TEXT(), nullable=True),
    sa.Column('env_variables', mysql.JSON(), nullable=True),
    sa.Column('variables', mysql.JSON(), nullable=True),
    sa.Column('case_variables', mysql.JSON(), nullable=True),
    sa.Column('session_data', mysql.JSON(), nullable=True),
    sa.Column('export_vars', mysql.JSON(), nullable=True),
    sa.Column('report_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('start_time', mysql.DATETIME(), nullable=True),
    sa.Column('creation_date', mysql.DATETIME(), nullable=True),
    sa.Column('created_by', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('updation_date', mysql.DATETIME(), nullable=True),
    sa.Column('updated_by', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('enabled_flag', mysql.INTEGER(display_width=11), server_default=sa.text("'1'"), autoincrement=False, nullable=True, comment='是否删除, 0 删除 1 非删除'),
    sa.Column('duration', mysql.DECIMAL(precision=10, scale=3), nullable=True, comment='运行耗时'),
    sa.Column('step_tag', mysql.VARCHAR(length=255), nullable=True, comment='pre 前置，post 后置，controller 控制器'),
    sa.Column('pre_hook_data', mysql.JSON(), nullable=True),
    sa.Column('post_hook_data', mysql.JSON(), nullable=True),
    sa.Column('setup_hook_results', mysql.JSON(), nullable=True, comment='前置hook结果'),
    sa.Column('teardown_hook_results', mysql.JSON(), nullable=True, comment='后置hook结果'),
    sa.Column('index', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('status_code', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('response_time_ms', mysql.DECIMAL(precision=10, scale=2), nullable=True),
    sa.Column('elapsed_ms', mysql.DECIMAL(precision=10, scale=2), nullable=True),
    sa.Column('log', mysql.LONGTEXT(), nullable=True),
    sa.Column('url', mysql.VARCHAR(length=500), nullable=True),
    sa.Column('method', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('trace_id', mysql.VARCHAR(length=255), nullable=True, comment='trace_id'),
    sa.Column('exec_user_id', mysql.INTEGER(display_width=11), autoincrement=False, nullable=True),
    sa.Column('exec_user_name', mysql.VARCHAR(length=255), nullable=True),
    sa.Column('source_id', mysql.BIGINT(display_width=20), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id'),
    mysql_default_charset='utf8mb4',
    mysql_engine='InnoDB',
    mysql_row_format='DYNAMIC'
    )
    op.drop_index(op.f('ix_server_ver_ip'), table_name='server_ver')
    op.drop_table('server_ver')
    # ### end Alembic commands ###
